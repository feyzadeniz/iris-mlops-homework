schema: '2.0'
stages:
  download_data:
    cmd: python src/download_data.py
    outs:
    - path: data/raw/iris.csv
      hash: md5
      md5: 21d441a28bce4417276097df955afc50
      size: 2928
  clean_data:
    cmd: python src/clean_data.py
    deps:
    - path: data/raw/iris.csv
      hash: md5
      md5: 21d441a28bce4417276097df955afc50
      size: 2928
    outs:
    - path: data/processed/iris_processed.csv
      hash: md5
      md5: 883be802f028c532ae001065e1048be2
      size: 4340
  train_model:
    cmd: python src/train_model.py
    deps:
    - path: data/processed/iris_processed.csv
      hash: md5
      md5: 883be802f028c532ae001065e1048be2
      size: 4340
    - path: src/train_model.py
      hash: md5
      md5: b6ef3df4259964961539f826a16b5ac4
      size: 2294
    outs:
    - path: models/iris_rf_model.pkl
      hash: md5
      md5: bd8bc0253c324449077e6814305edc7d
      size: 187217
    - path: models/metrics.json
      hash: md5
      md5: a780702e886fb5606a529d0426378414
      size: 202
  test_model:
    cmd: pytest -q tests/ --junitxml=reports/pytest.xml
    deps:
    - path: data/processed/iris_processed.csv
      hash: md5
      md5: 883be802f028c532ae001065e1048be2
      size: 4340
    - path: models/iris_rf_model.pkl
      hash: md5
      md5: bd8bc0253c324449077e6814305edc7d
      size: 187217
    - path: tests/test_model.py
      hash: md5
      md5: 23c281eabb4805d8188e299b76f216c3
      size: 691
    outs:
    - path: reports/pytest.xml
      hash: md5
      md5: 9e27b37c3a305ba5a912f4572c62e161
      size: 406
